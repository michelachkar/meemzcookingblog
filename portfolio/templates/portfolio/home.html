{% extends 'base.html' %}
{% load static %}

{% block title %}
    Home Page
{% endblock %}

{% block content %}
    
    <!-- Slider Section -->
    <section id="slider" class="slider slider-layout1">
        <div class="carousel owl-carousel carousel-arrows"
            data-slide="1" data-slide-md="1" data-slide-sm="1"
            data-autoplay="true" data-nav="true" data-dots="false"
            data-space="0" data-loop="true" data-speed="3000"
            data-transition="fade" data-animate-out="fadeOut" data-animate-in="fadeIn">

            {% for slide in slides %}
                <div class="slide-item align-v-h text-center bg-overlay">
                    <div class="bg-img">
                        <img src="https://{{ AWS_S3_CUSTOM_DOMAIN }}/{{slide.image}}" alt="{{ slide.title }}">
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="slide__content">
                                    <span class="slide__subtitle">{{ slide.subtitle }}</span>
                                    <h2 class="slide__title">{{ slide.title }}</h2>
                                    <p class="slide__desc">{{ slide.paragraph }}</p>
                                    {% if forloop.counter == 1 %}
                                        <a href="{% url 'recipes' %}" class="btn btn__white btn__bordered my-1">Nos Recettes</a>
                                    {% else %}
                                        {% if slide.cta_1_text or slide.cta_1_text != '' %}
                                            <a href="{{ slide.cta_1_link }}" class="btn btn__primary mx-2 my-1">{{ slide.cta_1_text }}</a>
                                        {% endif %}
                                        {% if slide.cta_2_text or slide.cta_2_text != '' %}
                                            <a href="{{ slide.cta_2_link }}" class="btn btn__white mx-2 my-1">DÃ©couvrir</a>
                                        {% endif %}
                                    {% endif %}
                                </div> <!-- /.slide__content -->
                            </div> <!-- /.col-lg-12 -->
                        </div> <!-- /.row -->
                    </div> <!-- /.container -->
                </div> <!-- /.slide-item -->
            {% endfor %}
        </div> <!-- /.carousel -->

        <!-- Decorative SVG Shape -->
        <svg class="slider__divider-shape" xmlns="http://www.w3.org/2000/svg" width="22" height="61" viewBox="0 0 22 61">
            <path d="M799,769h2v61h-2V769Zm8,24.8a0.969,0.969,0,0,0-1.911,0,3.012,3.012,0,0,1-.883,2.16..."></path>
        </svg>
    </section> <!-- /.slider-section -->
    
    <!-- Welcome Message -->
    <section class="pt-0">
        <div class="bg-img"><img src="{% static 'portfolio/images/backgrounds/pattern/2.png' %}" alt="background"></div>
        <section id="bannerLayout1" class="banner banner-layout1 pb-70">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="banner__content">
                            <div class="banner__content-text" data-aos="fade-right">
                                <div class="banner__content-text-inner">
                                    <div class="heading">
                                        <span class="heading__subtitle">{{ context.intro_bloc.title }}</span>
                                        <h2 class="heading__title">{{ context.intro_bloc.subtitle }}</h2>
                                        <div class="heading__icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <path
                                                d="M515,925a10,10,0,1,0,10,10A10.011,10.011,0,0,0,515,925Zm7,13.865a2.568,2.568,0,0,1-.651-0.549,3.235,3.235,0,0,0-5.209,0,1.449,1.449,0,0,1-1.146.683,1.419,1.419,0,0,1-1.2-.695,3.2,3.2,0,0,0-2.548-1.3,3.345,3.345,0,0,0-2.605,1.316,2.625,2.625,0,0,1-.64.544,7.953,7.953,0,0,1-.928-2.86h15.862A7.926,7.926,0,0,1,522,938.863ZM507.069,934a7.948,7.948,0,0,1,.928-2.859,2.617,2.617,0,0,1,.64.543A3.345,3.345,0,0,0,511.242,933a3.2,3.2,0,0,0,2.548-1.3,1.423,1.423,0,0,1,1.2-.7,1.452,1.452,0,0,1,1.146.685,3.237,3.237,0,0,0,5.209,0,2.575,2.575,0,0,1,.651-0.55,7.939,7.939,0,0,1,.932,2.865H507.069ZM515,927a7.975,7.975,0,0,1,5.8,2.509,5.325,5.325,0,0,0-.914.806,1.3,1.3,0,0,1-2.292,0,3.287,3.287,0,0,0-5.289.035,1.286,1.286,0,0,1-1.066.648,1.452,1.452,0,0,1-1.145-.683,5.348,5.348,0,0,0-.9-0.8A7.972,7.972,0,0,1,515,927Zm0,16a7.97,7.97,0,0,1-5.808-2.516,5.3,5.3,0,0,0,.9-0.8,1.452,1.452,0,0,1,1.145-.685,1.288,1.288,0,0,1,1.066.649,3.288,3.288,0,0,0,5.289.036,1.3,1.3,0,0,1,2.292,0,5.241,5.241,0,0,0,.914.806A7.972,7.972,0,0,1,515,943Z"
                                                transform="translate(-505 -925)"></path>
                                            </svg>
                                        </div>
                                        <p class="heading__desc">{{ context.intro_bloc.description }}</p>
                                        <br>
                                        <a href="#" class="btn btn__secondary btn__link mx-2 my-1">{{ context.intro_bloc.cta }}</a>
                                    </div><!-- /.heading -->
                                </div><!-- /.banner__content-text-inner -->
                            </div><!-- /.banner__content-text -->
                            <div class="banner__content-img" data-aos="fade-left">
                                <img src="{% static context.intro_bloc.img %}" alt="banner">
                            </div><!-- /.banner__content-img -->
                        </div><!-- /.banner__content -->
                    </div><!-- /.col-lg-12 -->
                </div><!-- /.row -->
            </div><!-- /.container -->
        </section>


        <!-- Clients  -->
        <section id="clients" class="clients text-center py-0">
            <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-8 offset-lg-2">
                <h2 class="heading__title mb-30">A recognized track-record of excellence</h2>
                <div class="carousel owl-carousel" data-slide="6" data-slide-md="4" data-slide-sm="3" data-autoplay="true"
                    data-nav="false" data-dots="false" data-space="0" data-loop="true" data-speed="700">
                    <div class="client">
                    <a href="#"><img src="{% static 'portfolio/images/clients/1.png' %}" alt="client"></a>
                    </div><!-- /.client -->
                    <div class="client">
                    <a href="#"><img src="{% static 'portfolio/images/clients/2.png' %}" alt="client"></a>
                    </div><!-- /.client -->
                    <div class="client">
                    <a href="#"><img src="{% static 'portfolio/images/clients/3.png' %}" alt="client"></a>
                    </div><!-- /.client -->
                    <div class="client">
                    <a href="#"><img src="{% static 'portfolio/images/clients/4.png' %}" alt="client"></a>
                    </div><!-- /.client -->
                    <div class="client">
                    <a href="#"><img src="{% static 'portfolio/images/clients/5.png' %}" alt="client"></a>
                    </div><!-- /.client -->
                    <div class="client">
                    <a href="#"><img src="{% static 'portfolio/images/clients/6.png' %}" alt="client"></a>
                    </div><!-- /.client -->
                </div><!-- /.carousel -->
                </div><!-- /.col-lg-12 -->
            </div><!-- /.row -->
            </div><!-- /.container -->
        </section><!-- /.clients -->
    </section>
    <!-- /.Welcome Message -->

    <!-- Recipes Categories -->
    <section id="testimonialsLayout1" class="testimonials testimonials-layout1 bg-overlay pt-130 pb-110">
        <div class="bg-img"><img src="{% static 'portfolio/images/backgrounds/7.jpg' %}" alt="background"></div>
        <div class="container">
          <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-6 offset-lg-3">
              <div class="heading heading-white text-center mb-50">
                <span class="heading__subtitle">Ne ratez pas</span>
                <h2 class="heading__title">Toutes nos recettes maison !</h2>
                <div class="heading__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                    <path
                      d="M515,925a10,10,0,1,0,10,10A10.011,10.011,0,0,0,515,925Zm7,13.865a2.568,2.568,0,0,1-.651-0.549,3.235,3.235,0,0,0-5.209,0,1.449,1.449,0,0,1-1.146.683,1.419,1.419,0,0,1-1.2-.695,3.2,3.2,0,0,0-2.548-1.3,3.345,3.345,0,0,0-2.605,1.316,2.625,2.625,0,0,1-.64.544,7.953,7.953,0,0,1-.928-2.86h15.862A7.926,7.926,0,0,1,522,938.863ZM507.069,934a7.948,7.948,0,0,1,.928-2.859,2.617,2.617,0,0,1,.64.543A3.345,3.345,0,0,0,511.242,933a3.2,3.2,0,0,0,2.548-1.3,1.423,1.423,0,0,1,1.2-.7,1.452,1.452,0,0,1,1.146.685,3.237,3.237,0,0,0,5.209,0,2.575,2.575,0,0,1,.651-0.55,7.939,7.939,0,0,1,.932,2.865H507.069ZM515,927a7.975,7.975,0,0,1,5.8,2.509,5.325,5.325,0,0,0-.914.806,1.3,1.3,0,0,1-2.292,0,3.287,3.287,0,0,0-5.289.035,1.286,1.286,0,0,1-1.066.648,1.452,1.452,0,0,1-1.145-.683,5.348,5.348,0,0,0-.9-0.8A7.972,7.972,0,0,1,515,927Zm0,16a7.97,7.97,0,0,1-5.808-2.516,5.3,5.3,0,0,0,.9-0.8,1.452,1.452,0,0,1,1.145-.685,1.288,1.288,0,0,1,1.066.649,3.288,3.288,0,0,0,5.289.036,1.3,1.3,0,0,1,2.292,0,5.241,5.241,0,0,0,.914.806A7.972,7.972,0,0,1,515,943Z"
                      transform="translate(-505 -925)"></path>
                  </svg>
                </div>
              </div><!-- /.heading -->
            </div><!-- /.col-lg-6 -->
          </div><!-- /.row -->
          <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
              <div class="carousel owl-carousel" data-slide="5" data-slide-md="2"
                data-slide-sm="1" data-autoplay="true" data-nav="false" data-dots="true" data-space="30" data-loop="true"
                data-speed="800">

                {% for dish_type, filtered_recipes in all_recipes%}
                    <div class=" testimonial-item" style="padding: 20px 20px 20px 20px;">
                    <div class="testimonial__icon"></div>
                    <div class="testimonial__meta" style="border-top:none; text-align:center">
                        <h5 class="testimonial__meta-title">{{ dish_type.name|upper }}</h5>
                    </div>
                    <div class="testimonial__content">
                        <div class="">
                            <a href="{% url 'recipes-dish-type' dish_type.slug %}">
                                <img src="https://{{ AWS_S3_CUSTOM_DOMAIN }}/{{dish_type.image}}" alt="author thumb">
                            </a>
                        </div>
                    </div>
                    </div>
                {% endfor %}
              </div><!-- /.carousel -->
            </div><!-- /.col-lg-12 -->
          </div><!-- /.row -->
        </div><!-- /.container -->
    </section>
    <!-- /.Recipes Categories -->
    
    <!-- List of latest recipes by category -->
    <section id="blogGrid" class="blog blog-grid pb-60">
        <div class="container">
            {% for dish_type, filtered_recipes in all_recipes%}

                {% if filtered_recipes.count > 0 %}
                    <div class="row">
                        <!-- Post Item #1 -->
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <div class="carousel owl-carousel " data-slide="3" data-slide-md="2" data-slide-sm="1"
                                data-autoplay="true" data-nav="false" data-dots="true" data-space="30" data-loop="true" data-speed="700">
                                    {% include 'portfolio/includes/recipe_list.html' with recipes=filtered_recipes %}
                            </div><!-- /.carousel-->
                        </div><!-- /.col-lg-12 -->
                    </div><!-- /.row -->
                {% endif%}
            {% endfor %}
        </div><!-- /.container -->
    </section>
    <!-- /.List of latest recipes by category -->
    
    <!-- Services -->
    <section id="bannerLayout2" class="banner banner-layout2 pb-130">
        <div class="bg-img"><img src="{% static 'portfolio/images/backgrounds/pattern/1.png' %}" alt="background"></div>
        <div class="container"> 
            <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-12">
                    <div class="banner__content">
                        <div class="banner__content-text aos-init aos-animate" data-aos="fade-left">
                            <div class="banner__content-text-inner">
                                <div class="heading mb-40">
                                    <span class="heading__subtitle">{{ context.service_bloc.subtitle }}</span>
                                    <h2 class="heading__title">{{ context.service_bloc.title }}</h2>
                                    <div class="heading__icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <path d="M515,925a10,10,0,1,0,10,10A10.011,10.011,0,0,0,515,925Zm7,13.865a2.568,2.568,0,0,1-.651-0.549,3.235,3.235,0,0,0-5.209,0,1.449,1.449,0,0,1-1.146.683,1.419,1.419,0,0,1-1.2-.695,3.2,3.2,0,0,0-2.548-1.3,3.345,3.345,0,0,0-2.605,1.316,2.625,2.625,0,0,1-.64.544,7.953,7.953,0,0,1-.928-2.86h15.862A7.926,7.926,0,0,1,522,938.863ZM507.069,934a7.948,7.948,0,0,1,.928-2.859,2.617,2.617,0,0,1,.64.543A3.345,3.345,0,0,0,511.242,933a3.2,3.2,0,0,0,2.548-1.3,1.423,1.423,0,0,1,1.2-.7,1.452,1.452,0,0,1,1.146.685,3.237,3.237,0,0,0,5.209,0,2.575,2.575,0,0,1,.651-0.55,7.939,7.939,0,0,1,.932,2.865H507.069ZM515,927a7.975,7.975,0,0,1,5.8,2.509,5.325,5.325,0,0,0-.914.806,1.3,1.3,0,0,1-2.292,0,3.287,3.287,0,0,0-5.289.035,1.286,1.286,0,0,1-1.066.648,1.452,1.452,0,0,1-1.145-.683,5.348,5.348,0,0,0-.9-0.8A7.972,7.972,0,0,1,515,927Zm0,16a7.97,7.97,0,0,1-5.808-2.516,5.3,5.3,0,0,0,.9-0.8,1.452,1.452,0,0,1,1.145-.685,1.288,1.288,0,0,1,1.066.649,3.288,3.288,0,0,0,5.289.036,1.3,1.3,0,0,1,2.292,0,5.241,5.241,0,0,0,.914.806A7.972,7.972,0,0,1,515,943Z" transform="translate(-505 -925)"></path>
                                        </svg>
                                    </div>
                                    <p class="heading__desc">{{ context.service_bloc.description }}</p>
                                </div><!-- /.heading -->
                                <a href="#" class="btn btn__secondary btn__link mx-2 my-1">{{ context.service_bloc.cta }}</a>
                            </div><!-- /.banner__content-text-inner -->
                        </div><!-- /.banner__content-text -->
                        <div class="banner__content-img aos-init aos-animate" data-aos="fade-right">
                            <img src="{% static context.service_bloc.img %}" alt="banner">
                        </div><!-- /.banner__content-img -->
                    </div><!-- /.banner__content -->
                </div><!-- /.col-lg-12 -->
            </div>
        </div><!-- /.container -->
    </section>
    <!-- /.Services Intro -->
    
    <!-- Photo Gallery -->
    <section id="portfolioGallery" class="portfolio portfolio-gallery portfolio-gallery-no-margin py-0">
        <div class="container-fluid col-padding-0">
            <div class="row">
                {% for gallery_image in gallery_images %}
                    <div class="col-sm-6 col-md-4 col-lg-3">
                        <div class="portfolio-item">
                            <div class="portfolio__img">
                                <img src="https://{{ AWS_S3_CUSTOM_DOMAIN }}/{{ gallery_image.image }}" alt="portfolio img">
                            </div><!-- /.portfolio-img -->
                            <div class="portfolio__hover">
                                <a href="https://{{ AWS_S3_CUSTOM_DOMAIN }}/{{ gallery_image.image }}" data-lightbox="lightbox" class="zoom__icon"></a>
                            </div><!-- /.portfolio__hover-->
                        </div><!-- /.portfolio-item -->
                    </div><!-- /.col-lg-4 -->
                {% endfor %}
            </div><!-- /.row -->
        </div><!-- /.container -->
    </section>
    <!-- /.Photo Gallery -->

{% endblock %}